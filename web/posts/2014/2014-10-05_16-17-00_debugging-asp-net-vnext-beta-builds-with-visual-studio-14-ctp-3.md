---
id: aab529c6-8807-4140-a636-49ecd99598d5
title: Debugging ASP.NET vNext Beta Builds with Visual Studio 14 CTP 3
abstract: Visual Studio CTP 3 has launched a while back and I was expecting to have
  trouble working with ASP.NET vNext beta builds. I was partially right. I wasn’t
  able to run the web application from Visual Studio. However, it’s still possible
  to debug the application and I have a workaround for you :)
created_at: 2014-10-05 16:17:00 +0000 UTC
tags:
- .net
- ASP.Net
- ASP.NET vNext
- Tips
- Visual Studio
slugs:
- debugging-asp-net-vnext-beta-builds-with-visual-studio-14-ctp-3
---

<p>Today, I was working on a sample project with <a href="http://www.tugberkugurlu.com/archive/getting-started-with-asp-net-vnext-by-setting-up-the-environment-from-scratch">ASP.NET vNext</a>. I have been working on this application without any Visual Studio IDE support but I decided to discover what <a href="http://blogs.msdn.com/b/webdev/archive/2014/08/18/asp-net-vnext-in-visual-studio-14-ctp-3.aspx">Visual Studio 14 CTP 3</a> is bring to the table. I know that Visual Studio CTP 3 has launched a while back and I was expecting to have trouble working with ASP.NET vNext beta builds (hot from the developer machine. Find them <a href="https://www.myget.org/gallery/aspnetvnext">here</a>). I was partially right. I wasn’t able to run the web application from Visual Studio. However, it’s still possible to debug the application and I have a workaround for you :) </p> <p>As I was thinking from the very beginning that I would have trouble with VS 14 CTP 3 + vNext beta builds, I started setting up my environment from the command line instead of letting the VS handle this.</p> <p><a href="https://tugberkugurlu.blob.core.windows.net/bloggyimages/fab21500-3b15-4de8-b53b-804b56fb7fd1.png"><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="https://tugberkugurlu.blob.core.windows.net/bloggyimages/f9e94971-1516-4259-8e08-828f0c1b6c5d.png" width="644" height="283"></a></p> <p>However, Visual Studio still insisted on installing the Aplha3 builds of the K Runtime but anyways. That’s not big of a deal as long as I have the beta one as the active runtime. When I open up the solution, everything looked OK. Even the package restore was successful.</p> <p><a href="https://tugberkugurlu.blob.core.windows.net/bloggyimages/26307697-0487-430d-9d4a-4af8625e1ecc.png"><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="https://tugberkugurlu.blob.core.windows.net/bloggyimages/83cbda2b-e607-47cf-b256-0051a0fd5614.png" width="644" height="345"></a></p> <p>The build was also working. Awesome!</p> <p><a href="https://tugberkugurlu.blob.core.windows.net/bloggyimages/c27eeb2e-1336-4631-bfdc-0be9b985837e.png"><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="https://tugberkugurlu.blob.core.windows.net/bloggyimages/13a23d4a-f778-46f7-98be-fa5a4429378f.png" width="644" height="345"></a></p> <p>So, it was all going great till I realized that I was building with the OutputType set to "Class Library".</p> <p><a href="https://tugberkugurlu.blob.core.windows.net/bloggyimages/865ddee1-aaa5-47b1-90da-764e9df15c17.png"><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="https://tugberkugurlu.blob.core.windows.net/bloggyimages/1314930a-eb56-4423-a568-5b43f83894ce.png" width="235" height="244"></a></p> <p>As soon as I changed it to Web Application, the build broke:</p> <p><a href="https://tugberkugurlu.blob.core.windows.net/bloggyimages/625aba1d-53c5-44c2-aba9-719155fa7348.png"><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="https://tugberkugurlu.blob.core.windows.net/bloggyimages/e189e8c3-0550-4539-a298-5dcb8393d0ec.png" width="644" height="345"></a></p> <p>This is OK and expected as things have changed since Visual Studio 14 CTP 3 shipped. However, I’m unable to debug my application now. Hmm, not entirely. There are still options and I went with the easier one.&nbsp; I switched back to command line and ran the application from there with "k web" command:</p> <p><a href="https://tugberkugurlu.blob.core.windows.net/bloggyimages/2e6a3208-8351-434e-bd5d-bf5a1f9b9386.png"><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="https://tugberkugurlu.blob.core.windows.net/bloggyimages/09d19dad-9b6d-4dd5-8a81-bd4177b90de9.png" width="644" height="464"></a></p> <p>All good as you can see. Now, back to Visual Studio and press CTRL + ALT + P to bring up the Attach Process dialog box. We are looking for klr.exe to attach but you will probably see two instances of klr there. We need the one that actually hosts our application. You can find out which one is the actual host by looking at the command line arguments from the Task Manager.</p> <p><a href="https://tugberkugurlu.blob.core.windows.net/bloggyimages/346a5ccf-9ea7-4446-8a1d-285c23afb47b.png"><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="https://tugberkugurlu.blob.core.windows.net/bloggyimages/10995ea2-180e-457b-a16a-1fa4ccbb6ed3.png" width="644" height="370"></a></p> <p>In my case, it’s with the PID 1472. Finally, attach the process and you should be able to debug the application now.</p> <p><a href="https://tugberkugurlu.blob.core.windows.net/bloggyimages/53d41fea-d2c3-4f85-b4d8-b1ddc6046bc5.png"><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="https://tugberkugurlu.blob.core.windows.net/bloggyimages/25ec0f7c-7eeb-4b6c-b189-add5d9e3ad30.png" width="644" height="436"></a></p> <p><a href="https://tugberkugurlu.blob.core.windows.net/bloggyimages/90d63770-182f-4e8d-949a-41bc4c391f0f.png"><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="https://tugberkugurlu.blob.core.windows.net/bloggyimages/83399691-72a4-4e5e-bf25-07e99ec97147.png" width="644" height="364"></a></p> <p>Enjoy ;)</p>  