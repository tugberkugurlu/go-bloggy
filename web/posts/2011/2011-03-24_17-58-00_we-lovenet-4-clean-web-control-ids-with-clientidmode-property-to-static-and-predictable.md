---
id: fae80f8f-9a8a-4c69-b2e5-bf9b02c012a5
title: We Love .NET 4 - Clean Web Control IDs with ClientIDMode Property to Static
  and Predictable
abstract: In this blog post, we will see how ClientIDMode property of Web Controls
  makes our lives easier. Also, we will demonstrate couple of scenarios on how it
  works...
created_at: 2011-03-24 17:58:00 +0000 UTC
tags:
- .NET
- ASP.Net
- C#
- Tips
slugs:
- we-lovenet-4-clean-web-control-ids-with-clientidmode-property-to-static-and-predictable
---

<blockquote>
<p>If you want, you could directly download the source code which is used in this blog post as example and skip the reading <img style="border-style: none;" class="wlEmoticon wlEmoticon-smile" alt="Smile" src="https://www.tugberkugurlu.com/Content/Images/UploadedByAuthors/wlw/0310308e59b3_10C04/wlEmoticon-smile.png" />. Source code is on ;       <br /> <br /><a title="http://cid-0ee89cb310fe3603.office.live.com/self.aspx/Programming/WeLoveNet4^_1.rar" href="http://cid-0ee89cb310fe3603.office.live.com/self.aspx/Programming/WeLoveNet4^_1.rar">http://cid-0ee89cb310fe3603.office.live.com/self.aspx/Programming/WeLoveNet4^_1.rar</a></p>
</blockquote>
<p>One of the things that every JavaScript programmers hate about ASP.NET is <strong>Web Control IDs</strong>. When we use Master Page or any of Data Controls for displaying data (there are other things which fit in this category but for the sake of less talking, I skipped them), <strong>the id of the web controls&rsquo; values are generated by concatenating the ID values of each parent naming container with the ID value of the control. </strong>This thing screws up the id of the control. As you can see on below source view;</p>
<p><a href="https://www.tugberkugurlu.com/Content/Images/UploadedByAuthors/wlw/0310308e59b3_10C04/image_thumb5.png"><img style="background-image: none; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border-width: 0px;" title="image_thumb[5]" border="0" alt="image_thumb[5]" src="https://www.tugberkugurlu.com/Content/Images/UploadedByAuthors/wlw/0310308e59b3_10C04/image_thumb5_thumb.png" width="644" height="53" /></a></p>
<p>This also makes it hard to write <strong>JavaScript</strong> (nowadays, <strong>JavaScript</strong> is also known as <strong>JQuery</strong> which is kind of bizarre because <strong>JQuery</strong> is a <strong>JavaScript</strong> library <img style="border-style: none;" class="wlEmoticon wlEmoticon-smile" alt="Smile" src="https://www.tugberkugurlu.com/Content/Images/UploadedByAuthors/wlw/0310308e59b3_10C04/wlEmoticon-smile.png" />) codes when we want to bind the code to a control. Of course, it is not impossible to accomplish that on ASP.NET. There are a few ways of doing that on ASP.NET;</p>
<ol>
<li>One of the ways is to create a JS function and bind the control to that function inside the <strong>DOM</strong>. For instance, let&rsquo;s say we have <em>System.Web.UI.Controls.Button</em> control on our web form and we would like to fire a JS function on click of this button. User creates the JS function and bind the control to the function by putting the function name on <strong><em>OnClientClick</em></strong> property of the Button control. I do not recommend this way. Binding the JS code to DOM elements directly is sloppy.&nbsp;</li>
<li><l>Other way is to bind the JS code to a Web Control by getting the name of the control with <strong>code blocks</strong> (<em>often called <strong>Code Nuggets</strong> by members of the Visual Web Developer team</em>). We&rsquo;ll get that option on our following example latter.</l></li>
</ol>
<p>With .NET Framework v4, we have been introduced with a new property of Web Controls called <strong>ClientIDMode</strong>. This little thing is now making our lives easier. <strong>ClientIDMode</strong> gets or sets the algorithm that is used to generate the value of the ClientID property.</p>
<p>ClientIDMode&rsquo;s value type is <strong>enum </strong>and it has 4 values. The default value of <strong>ClientIDMode</strong> for a page is Predictable. The default value of <strong>ClientIDMode</strong> for a control is Inherit.</p>
<blockquote>
<p>You can get more information on Control.ClientIDMode property from offical MSDN document :</p>
<p><a href="http://msdn.microsoft.com/en-us/library/system.web.ui.control.clientidmode.aspx">http://msdn.microsoft.com/en-us/library/system.web.ui.control.clientidmode.aspx</a></p>
</blockquote>
<p>I think better way of understanding this is by demonstrating a scenario. On the following example, our goal is to fire a JS function with on click event of a button control. Let&rsquo;s see how this little feature fits in our lives.</p>
<p><strong>OldFashionWay.aspx</strong></p>
<p>We are assuming that we are working on .NET 3.5 here. So, we do not have the ability to use ClientIDMode feature. What do we do then? Following <strong>OldFashionWay.aspx</strong> web form code shows us how we can accomplish that;</p>
<pre class="brush: xhtml; toolbar: false; highlight: [10,11,23]">&lt;asp:Content ID="Content1" ContentPlaceHolderID="head" runat="server"&gt;

    &lt;title&gt;We Love .NET 4&lt;/title&gt;

    &lt;script src="Scripts/jquery-1.4.1.min.js" type="text/javascript"&gt;&lt;/script&gt;

    &lt;script type="text/javascript"&gt;

        $(document).ready(function () {
            $("#&lt;%= button1.ClientID  %&gt;").click(function () {
                alert('textbox1.Text : ' + $("#&lt;%= textbox1.ClientID  %&gt;").val());
            });
        });

    &lt;/script&gt;

&lt;/asp:Content&gt;

&lt;asp:Content ID="Content2" ContentPlaceHolderID="ContentPlaceHolder1" runat="server"&gt;

        &lt;div&gt;
        
            &lt;asp:TextBox runat="server" ID="textbox1" /&gt;  &lt;asp:Button Text="Submit" ID="button1" runat="server" /&gt;

        &lt;/div&gt;

&lt;/asp:Content&gt;</pre>
<p>As you can see inside the script tag, we use <strong>Code Nuggets</strong> to determine the id of the web controls. Here is the result;</p>
<p><a href="https://www.tugberkugurlu.com/Content/Images/UploadedByAuthors/wlw/0310308e59b3_10C04/image_thumb7.png"><img style="background-image: none; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border-width: 0px;" title="image_thumb[7]" border="0" alt="image_thumb[7]" src="https://www.tugberkugurlu.com/Content/Images/UploadedByAuthors/wlw/0310308e59b3_10C04/image_thumb7_thumb.png" width="644" height="141" /></a></p>
<p><a href="https://www.tugberkugurlu.com/Content/Images/UploadedByAuthors/wlw/0310308e59b3_10C04/image_thumb12.png"><img style="background-image: none; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border-width: 0px;" title="image_thumb[12]" border="0" alt="image_thumb[12]" src="https://www.tugberkugurlu.com/Content/Images/UploadedByAuthors/wlw/0310308e59b3_10C04/image_thumb12_thumb.png" width="644" height="40" /></a><a href="https://www.tugberkugurlu.com/Content/Images/UploadedByAuthors/wlw/0310308e59b3_10C04/image_thumb10.png"><img style="background-image: none; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border-width: 0px;" title="image_thumb[10]" border="0" alt="image_thumb[10]" src="https://www.tugberkugurlu.com/Content/Images/UploadedByAuthors/wlw/0310308e59b3_10C04/image_thumb10_thumb.png" width="484" height="206" /></a></p>
<p>This way works just fine but only inside the .aspx files. When we want to get the JavaScript code out of here, put it on a separate .js file and reference it inside the .aspx page, you will certainly fail! This is because of the fact that ASP.NET framework do not apply any special rendering on.js files as it does on .aspx, .ashx or any other ASP.NET specific file types.</p>
<p><strong>ClientIDMode.aspx</strong></p>
<p>As we mentioned earlier, we have been introduced with ClientIDMode property for Web Controls on .NET Framework v4. Let&rsquo;s see how we accomplish the above scenario on .NET Framework v4. Here is <strong>ClientIDMode.aspx </strong>file code;</p>
<pre class="brush: xhtml; toolbar: false; highlight: [11,12,25,26]">&lt;asp:Content ID="Content1" ContentPlaceHolderID="head" runat="server"&gt;

    &lt;title&gt;We Love .NET 4&lt;/title&gt;

    &lt;script src="Scripts/jquery-1.4.1.min.js" type="text/javascript"&gt;&lt;/script&gt;

    &lt;script type="text/javascript"&gt;

        $(document).ready(function () {

            $("#button1").click(function () {
                alert('textbox1.Text : ' + $("#textbox1").val());
            });

        });

    &lt;/script&gt;

&lt;/asp:Content&gt;

&lt;asp:Content ID="Content2" ContentPlaceHolderID="ContentPlaceHolder1" runat="server"&gt;

    &lt;div&gt;
        
        &lt;asp:TextBox runat="server" ID="textbox1" ClientIDMode="Static" /&gt;  
        &lt;asp:Button Text="Submit" ID="button1" runat="server" ClientIDMode="Static" /&gt;

    &lt;/div&gt;

&lt;/asp:Content&gt;</pre>
<p>As you can notice here, we have set <strong>ClientIDMode </strong>property of TextBox and Button control to Static. What does that mean? When we set the <strong>ClientIDMode </strong>to Static, the <strong>ClientID</strong> value is set to the value of the <strong>ID</strong> property. If the control is a naming container, the control is used as the top of the hierarchy of naming containers for any controls that it contains. Let&rsquo;s view the rendered html source code;</p>
<p><a href="https://www.tugberkugurlu.com/Content/Images/UploadedByAuthors/wlw/0310308e59b3_10C04/image_thumb14.png"><img style="background-image: none; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border-width: 0px;" title="image_thumb[14]" border="0" alt="image_thumb[14]" src="https://www.tugberkugurlu.com/Content/Images/UploadedByAuthors/wlw/0310308e59b3_10C04/image_thumb14_thumb.png" width="644" height="41" /></a></p>
<p>The id of the controls are the same as we determined. Perfect!</p>
<p><strong>ClientIDMode_SeperateJSFile.aspx</strong></p>
<p>Let&rsquo;s make our html file unobtrusive. ClientIDMode_SeperateJSFile.aspx file&rsquo;s source code;</p>
<pre class="brush: xhtml; toolbar: false; highlight: [5,13,14]">&lt;asp:Content ID="Content1" ContentPlaceHolderID="head" runat="server"&gt;

    &lt;title&gt;We Love .NET 4&lt;/title&gt;
    &lt;script src="Scripts/jquery-1.4.1.min.js" type="text/javascript"&gt;&lt;/script&gt;
    &lt;script src="Scripts/ClientIDMode.js" type="text/javascript"&gt;&lt;/script&gt;

&lt;/asp:Content&gt;

&lt;asp:Content ID="Content2" ContentPlaceHolderID="ContentPlaceHolder1" runat="server"&gt;

    &lt;div&gt;
        
        &lt;asp:TextBox runat="server" ID="textbox1" ClientIDMode="Static" /&gt;  
        &lt;asp:Button Text="Submit" ID="button1" runat="server" ClientIDMode="Static" /&gt;

    &lt;/div&gt;

&lt;/asp:Content&gt;</pre>
<p>What we do here is to get the JS code out of the .aspx file and put it inside a separate .js file. This way we could use the same file for other pages and we will accomplish to make ourselves <strong>DRY </strong>(Don&rsquo;t Repeat Yourself). We are unable to do that on .NET 3.5 as we mentioned above. <strong>ClientIDMode.js</strong> is no different than the JS code we used before. Here is the content of <strong>ClientIDMode.js</strong>;</p>
<pre class="brush: javascript; toolbar: false">$(document).ready(function () {

    $("#button1").click(function () {
        alert('textbox1.Text : ' + $("#textbox1").val());
    });

});</pre>
<p>Pretty awesome <img style="border-style: none;" class="wlEmoticon wlEmoticon-smile" alt="Smile" src="https://www.tugberkugurlu.com/Content/Images/UploadedByAuthors/wlw/0310308e59b3_10C04/wlEmoticon-smile.png" /></p>
<p><strong>ClientIDMode_ForEntirePage.aspx</strong></p>
<p>Assuming that we have a large page content and it will make it hard to set <strong>ClientIDMode</strong> for every Web Control. ASP.NET team also have thought that. We can set the <strong>ClientIDMode</strong> value for a page in the <a href="http://msdn.microsoft.com/en-us/library/ydy4x04a.aspx">@ Page</a> directive. Only we need to do is to set <strong>ClientIDMode</strong> property on &lt;%@ Page &hellip; %&gt; section;</p>
<pre class="brush: xhtml; toolbar: false; highlight: [4]">&lt;%@ Page 
        Title="" 
        Language="C#" 
        ClientIDMode="Static" 
        MasterPageFile="~/Site1.Master" 
        AutoEventWireup="true" 
        CodeBehind="ClientIDMode_ForEntirePage.aspx.cs" 
        Inherits="WeLoveNet4_1.WebForm22" %&gt;</pre>
<p>After this configuration, you do not need to set <strong>ClientIDMode</strong> value for every control.</p>
<blockquote>
<p>Also, we can set the <strong>ClientIDMode </strong>value for all pages in a Web site by setting the pages element in the site's Web.config file. Example code for Web.config;</p>
<pre class="brush: xhtml; toolbar: false; highlight: [4]">&lt;configuration&gt;
  
    &lt;system.web&gt;
        &lt;pages clientIDMode="Static"&gt;&lt;/pages&gt;
        &lt;compilation debug="true" targetFramework="4.0" /&gt;
    &lt;/system.web&gt;

&lt;/configuration&gt;</pre>
</blockquote>
<p><strong>ClientIDMode_InsideData-Bound_Controls.aspx</strong></p>
<p>On data-bound scenarios, there is another property that we can make use of for ListView control : <strong>ClientIDRowSuffix</strong>. <strong>ClientIDRowSuffix </strong>gets or sets the name of the data field whose value is used to uniquely identify each data row of a <strong>ListView</strong> control when the <strong>ClientIDMode</strong> property is set to <strong>Predictable</strong>.</p>
<p>Let&rsquo;s see our example. here is the <strong>ClientIDMode_InsideData-Bound_Controls.aspx</strong> file&rsquo;s code;</p>
<pre class="brush: xhtml; toolbar: false; highlight: [7]">&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;

&lt;head id="Head1" runat="server"&gt;&lt;/head&gt;

&lt;body&gt;

    &lt;asp:ListView ID="ListView1" ClientIDMode="Predictable" ClientIDRowSuffix="LanguageID"  runat="server" &gt;

        &lt;ItemTemplate&gt;
            &lt;li&gt;
                &lt;asp:Label Text='&lt;%# Eval("Name") %&gt;' ID="namelabel" runat="server" /&gt; : 
                &lt;asp:Label Text='&lt;%# Eval("Rating") %&gt;' ID="ratinglabel" runat="server" /&gt;
            &lt;/li&gt;
        &lt;/ItemTemplate&gt;

        &lt;LayoutTemplate&gt;
            
            &lt;div ID="itemPlaceholderContainer" runat="server"&gt;
                &lt;ul ID="itemPlaceholder" runat="server" /&gt;
            &lt;/div&gt;
            
        &lt;/LayoutTemplate&gt;

    &lt;/asp:ListView&gt;

&lt;/body&gt;&lt;/html&gt;</pre>
<p>As it is above, we have set <strong><em>ClientIDMode </em></strong>of <em><strong>ListView</strong></em> control to <strong><em>Predictable </em></strong>and <strong><em>ClientIDRowSuffix </em></strong>of <strong><em>ListView </em></strong>control to <strong><em>LanguageID </em></strong>which is the ID field of our datasource. Some of you might wonder where the datasource is. I made a List of ProgrammingLanguages and bound it to <strong>ListView1 </strong>as you can see on the below code;</p>
<pre class="brush: c-sharp; toolbar: false">    public partial class ClientIDMode_InsideData_Bound_Controls : System.Web.UI.Page {

        public class ProgrammingLanguages {

            public int LanguageID { get; set; }
            public string Name { get; set; }
            public int Rating { get; set; }

        }

        protected void Page_Load(object sender, EventArgs e) {

            List&lt;ProgrammingLanguages&gt; _list = new List&lt;ProgrammingLanguages&gt;();

            _list.Add(new ProgrammingLanguages {LanguageID = 10, Name="C#", Rating=10 });
            _list.Add(new ProgrammingLanguages {LanguageID = 20, Name = "Visual Basic", Rating = 6 });
            _list.Add(new ProgrammingLanguages {LanguageID = 30, Name = "F#", Rating = 7 });
            _list.Add(new ProgrammingLanguages {LanguageID = 45, Name = "Java", Rating = 8 });

            ListView1.DataSource = _list;
            ListView1.DataBind();

        }
    }</pre>
<p>When we view the source code of the rendered page, we will see that id of the controls are predictable.</p>
<p><a href="https://www.tugberkugurlu.com/Content/Images/UploadedByAuthors/wlw/0310308e59b3_10C04/image_thumb16.png"><img style="background-image: none; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border-width: 0px;" title="image_thumb[16]" border="0" alt="image_thumb[16]" src="https://www.tugberkugurlu.com/Content/Images/UploadedByAuthors/wlw/0310308e59b3_10C04/image_thumb16_thumb.png" width="644" height="374" /></a></p>
<p>I hope that this article gives you an idea on how you can make your application better with this new feature of ASP.NET.</p>
<p>Happy coding <img style="border-style: none;" class="wlEmoticon wlEmoticon-smile" alt="Smile" src="https://www.tugberkugurlu.com/Content/Images/UploadedByAuthors/wlw/0310308e59b3_10C04/wlEmoticon-smile.png" /></p>
<p><iframe style="background-color: #fcfcfc; width: 98px; height: 115px; padding: 0px;" title="Preview" marginheight="0" src="http://cid-0ee89cb310fe3603.office.live.com/embedicon.aspx/Programming/WeLoveNet4^_1.rar" frameborder="0" marginwidth="0" scrolling="no"></iframe></p>