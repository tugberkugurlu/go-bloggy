---
id: bb37c119-124d-428a-a88f-ad3a5f9f77fd
title: 'Pulling an Old Article From the Coffin: SignalR with Redis Running on a Windows
  Azure Virtual Machine'
abstract: Long time ago (about 5 years, at least), I contributed an article to SignalR
  wiki about scaling SignalR with Redis. You can still find the article here. I also
  blogged about it here. However, over time, pictures got lost there. I got a few
  requests from my readers to refresh those images and I was luckily able to find
  them :) I decided to publish that article here so that I would have a much better
  control over the content.
created_at: 2018-08-08 14:32:00 +0000 UTC
tags:
- Architecture
- Azure
- Redis
- Scaling
- SignalR
slugs:
- pulling-an-old-article-from-the-coffin-signalr-with-redis-running-on-a-windows-azure-virtual-machine
---

<p>Long time ago (about 5 years, at least), I contributed an article to SignalR wiki about scaling a SignalR application with Redis. You can still find the article <a href="https://github.com/SignalR/SignalR/wiki/SignalR-with-Redis-Running-on-a-Windows-Azure-Virtual-Machine">here</a>. I also blogged about it <a href="http://www.tugberkugurlu.com/archive/signalr-with-redis-running-on-a-windows-azure-virtual-machine">here</a>. However, over time, pictures got lost there. I got a few requests from my readers to refresh those images and I was lucky enough to be able to find them :) I decided to publish that article here so that I would have a much better control over the content. So, here is the post :)</p><blockquote><p>Please keep in mind that this is a really old post and lots of things have evolved since then. However, I do believe the concepts still resonate and it’s valuable to show the ways of how to achieve this within a cloud provider’s context. </p></blockquote>

<hr>

<h2>SignalR with Redis Running on a Windows Azure Virtual Machine</h2><p>This wiki article will walk your through on how you can run your SignalR application in multiple machines with Redis as your backplane using Windows Azure Virtual Machines for scale out scenarios.<h3>Creating the Windows Azure Virtual Machines</h3><p>First of all, we will spin up our virtual machines. What we want here is to have two <strong>Windows Server 2008 R2</strong> virtual machines for our SignalR application and we will name them as <strong>Web1-08R2</strong> and <strong>Web2-08R2</strong>. We will have the IIS installed on both of these servers and at the end, we will load balance the request on port 80.<p>Our third virtual machine will be another Windows Server 2008 R2 only for our Redis server. We will call this server <strong>Redis-08R2</strong>.<p>To spin up the VMs, go to <a href="https://web.archive.org/web/20140827164959/https://manage.windowsazure.com/">new Windows Azure Management Portal</a> and hit New icon at the bottom-right corner.<p><a href="https://tugberkugurlu.blob.core.windows.net/bloggyimages/cdc760e3-3290-4c92-8de2-58f7b93c4bcc.png"><img width="644" height="63" title="0-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" style="display: inline; background-image: none;" alt="0-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" src="https://tugberkugurlu.blob.core.windows.net/bloggyimages/94945a68-44ee-4c65-b4d5-966083844c97.png" border="0"></a><p>Creating a virtual machine running Windows Server 2008 R2 is explained <a href="https://web.archive.org/web/20140827164959/https://www.windowsazure.com/en-us/manage/windows/tutorials/virtual-machine-from-gallery/">here</a> in details. We followed the same steps to create our first VM named <strong>Web1-08R2</strong>.<p>The second VM we will be creating has a slightly different approach than the first one. Under the hood, every virtual machine is a cloud service instance and we want to put our second VM (Web2-08R2) under the same cloud service that our first web VM is running under. To do that, we need to follow the same steps as explained inside the previously mentioned article but when we come to 3rd step in the creation wizard, we should chose <strong>Connect to existing Virtual Machine</strong> option this time and we should choose our first VM we have just created.<p><a href="https://tugberkugurlu.blob.core.windows.net/bloggyimages/70193b30-29e9-46cd-b2de-64248a66e07a.png"><img width="644" height="467" title="1-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732d417a7572652d5" style="display: inline; background-image: none;" alt="1-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732d417a7572652d5" src="https://tugberkugurlu.blob.core.windows.net/bloggyimages/c6dd5dd9-3f7d-474d-948e-fff2fab6ba2b.png" border="0"></a><p>As the last step, we now need to create our redis VM which will be named Redis-08R2. We will follow the same steps as we did when we were creating our second web VM (Web2-08R2).<h3>Setting Up Redis as a Windows Service</h3><p>To use Redis on a Windows machine, we went to <a href="https://web.archive.org/web/20140827164959/https://github.com/MSOpenTech/redis">Redis on Windows prototype</a> GitHub page and cloned the repository and followed the steps explained under <a href="https://web.archive.org/web/20140827164959/https://github.com/MSOpenTech/redis#how-to-build-redis-using-visual-studio">How to build Redis using Visual Studio</a> section.<p>After you build the project, you will have all the files you need under <em>msvs\bin\release</em> path as zip files. <strong>redisbin.zip</strong> file will contain the redis server, redis command line interface and some other stuff. <strong>rediswatcherbin.zip</strong> file will contain the msi file to install redis as a windows service. You can just copy those zip files to your Redis VM and extract redisbin.zip under <em>c:\redis\bin</em>. Then follow the steps:<ul><li><p>Currently, <a href="https://web.archive.org/web/20140827164959/https://github.com/MSOpenTech/redis/issues/1#issuecomment-6722716">there is a bug in the RedisWatcher installer</a> and if you don't have <a href="https://web.archive.org/web/20140827164959/http://www.microsoft.com/en-us/download/details.aspx?id=5555">Microsoft Visual C++ 2010 Redistributable Package</a> installed on your machine, the service won't start. So, I installed it first.</p><li><p>Copy this <strong><a href="https://web.archive.org/web/20140827164959/https://github.com/MSOpenTech/redis/blob/bksavecow/redis.conf">redis.conf</a></strong> file and put it under <strong>c:\redis\bin</strong> directory. Open it up and add a password by adding the following line of code:<p>requirepass 1234567<blockquote><p>Take this note into considiration when you are setting up your redis password:<p><em>Warning: since Redis is pretty fast an outside user can try up to 150k passwords per second against a good box. This means that you should use a very strong password otherwise it will be very easy to break.</em></p></blockquote><li><p>Then, extract the <strong>rediswatcherbin.zip</strong> somewhere and run the <strong>InstallWatcher.msi</strong>to install the service.</p><li><p>Navigate to <em>C:\Program Files (x86)\RedisWatcher</em> directory. You will see a file named <em>watcher.conf</em> inside this directory. Open this file up and replace the entire file with the following text. Only difference here is that we are supplying the <strong>redis.conf</strong> file directory for the server to use:<pre><code>exepath c:\redis\bin
exename redis-server.exe

{
 workingdir c:\redis\inst1
 runmode hidden
 saveout 1
 cmdparms c:\redis\bin\redis.conf
}
</code></pre><li><p>Create a folder named <strong>inst1</strong> under <em>c:\redis</em> because we have specified this folder as working directory for our redis instance.</p><li><p>When you do a search against windows services in PowerShell, you will see <strong>RedisWatcherSvc</strong> service is installed.</p></li></ul><p><a href="https://tugberkugurlu.blob.core.windows.net/bloggyimages/35330ca8-3686-42a0-be49-3dc10ee6f875.png"><img width="644" height="152" title="2-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" style="display: inline; background-image: none;" alt="2-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" src="https://tugberkugurlu.blob.core.windows.net/bloggyimages/f9576b81-b03e-42ca-a8b1-d1e2cf3ae2bb.png" border="0"></a><ul><li><p>Run the following PowerShell command to start the service for the first time.<pre><code>(Get-Service -Name RedisWatcherSvc).Start()
</code></pre></li></ul><p>Now we have a Redis server running on our VM. To test if it is actually running, open up a windows command window under c:\redis\bin and run the following command (assuming you set your password 1234567):<pre><code>redis-cli -h localhost -p 6379 -a 1234567
</code></pre><p>Now, you have a redis client running.<p><a href="https://tugberkugurlu.blob.core.windows.net/bloggyimages/919a77db-d4c7-4592-9fb4-e00fe7fbffd7.png"><img width="644" height="181" title="3-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" style="display: inline; background-image: none;" alt="3-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" src="https://tugberkugurlu.blob.core.windows.net/bloggyimages/1880730f-ea20-4afa-895f-5448713a852c.png" border="0"></a><p>Ping the redis to see if you are really authenticated:<p><a href="https://tugberkugurlu.blob.core.windows.net/bloggyimages/0bbe5e34-4901-474c-9e2d-239a0ae55f82.png"><img width="644" height="170" title="4-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" style="display: inline; background-image: none;" alt="4-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" src="https://tugberkugurlu.blob.core.windows.net/bloggyimages/ef5bd337-b5c5-4bb0-9ef0-ef1fc2b88694.png" border="0"></a><p>Now, we are nearly set. As a last step in our redis server, we need to open up TCP port 6379 for external communication. You can do this under <strong>Windows Firewall with Advanced Security</strong> window as explained <a href="https://web.archive.org/web/20140827164959/http://www.2x.com/blog/2010/04/tech/configuring-the-windows-server-2008-r2-firewall-to-open-ports-for-2x-solutions/">here</a>.<p><a href="https://tugberkugurlu.blob.core.windows.net/bloggyimages/434c762d-aa78-4b86-a683-b502e5a562bb.png"><img width="644" height="185" title="5-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" style="display: inline; background-image: none;" alt="5-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" src="https://tugberkugurlu.blob.core.windows.net/bloggyimages/4606a80e-d23c-4ca5-873c-fa563bf51c71.png" border="0"></a><h3>Communicating Through Internal Endpoints Between Windows Azure Virtual Machines Under Same Cloud Service</h3><p>When you are inside one of your web VMs, you can simply look up the redis VM by hostname.<p><a href="https://tugberkugurlu.blob.core.windows.net/bloggyimages/4a0693a0-185d-42be-92e4-2bfe9857a280.png"><img width="644" height="168" title="6-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" style="display: inline; background-image: none;" alt="6-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" src="https://tugberkugurlu.blob.core.windows.net/bloggyimages/b166b196-aaf4-4488-b018-112c8b3dcbf6.png" border="0"></a><p>The hostname will resolve to DIP (Dynamic IP Address) which Windows Azure will use internally. We can configure public endpoints through Windows Azure Management Portal easily but in that case, we would be opening redis to the whole world. Also, if we communicate to our redis server through VIP (Virtual IP Address), we would always go through the load balancer which has its own additional cost.<p>So, we can easily connect to our redis server from any other connected VM by hostname.<h3>The SignalR Application with Redis</h3><p>Our SignalR application will not be that much different from a normal SignalR application thanks to <a href="https://web.archive.org/web/20140827164959/https://github.com/SignalR/SignalR.Redis">SignalR.Redis</a> project. All you need to do is to add the <a href="https://web.archive.org/web/20140827164959/http://nuget.com/packages/SignalR.Redis">SignalR.Redis</a> nuget package into your application and configure SignalR to use Redis as the message bus inside the <code>Application_Start</code> method in <em>Global.asax.cs</em> file:<pre>protected void Application_Start(object sender, EventArgs e)
{
    // Hook up redis
    string server = ConfigurationManager.AppSettings["redis.server"];
    string port = ConfigurationManager.AppSettings["redis.port"];
    string password = ConfigurationManager.AppSettings["redis.password"];

    GlobalHost.DependencyResolver.UseRedis(server, Int32.Parse(port), password, "SignalR.Redis.Sample");
}
</pre><p>For our demo, the AppSettings should look like as below:<pre>&lt;appSettings&gt;
    &lt;add key="redis.server" value="Redis-08R2" /&gt;
    &lt;add key="redis.port" value="6379" /&gt;
    &lt;add key="redis.password" value="1234567" /&gt;
&lt;/appSettings&gt;
</pre><p>I put the application under IIS on our both web servers (Web1-08R2 and Web2-08R2) and configured them to run under .NET Framework 4.0 integrated application pool.<blockquote><p>For this demo, I am using the <a href="https://web.archive.org/web/20140827164959/https://github.com/SignalR/SignalR.Redis/tree/master/Redis.Sample">Redis.Sample</a> chat application included inside the SignalR.Redis project.</p></blockquote><p>Let's test them quickly before going public. I fired the both web applications inside the servers and here is the result:<p><a href="https://tugberkugurlu.blob.core.windows.net/bloggyimages/ab1c221c-7f0f-4859-90d9-465dbf13ee36.png"><img width="644" height="336" title="7-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" style="display: inline; background-image: none;" alt="7-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" src="https://tugberkugurlu.blob.core.windows.net/bloggyimages/050d8fff-caf5-4984-81d5-28266470a11e.png" border="0"></a><p>Perfectly running! Let's open them up to the world.<h3>Opening up the Port 80 and Load Balancing the Requets</h3><p>Our requirement here is to make our application reachable over HTTP and at the same time, we want to load balance the request between our two web servers.<p>To do that, we need to go to Windows Azure Management portal and set up the TCP endpoints for port 80.<p>First, we navigate to dashboard of our Web1-08R2 VM and hit Endpoints from the dashboard menu:<p><a href="https://tugberkugurlu.blob.core.windows.net/bloggyimages/359ea1a5-e759-4279-9dc2-c8026141705e.png"><img width="644" height="265" title="8-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" style="display: inline; background-image: none;" alt="8-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" src="https://tugberkugurlu.blob.core.windows.net/bloggyimages/b3721b44-caa8-482f-8d7f-f96eaf0bfcc9.png" border="0"></a><p>From there, hit the End Endpoint icon at the bottom of the page:<p><a href="https://tugberkugurlu.blob.core.windows.net/bloggyimages/7c3a397c-78ae-45b9-8b84-116d3f55a5ec.png"><img width="644" height="67" title="9-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" style="display: inline; background-image: none;" alt="9-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" src="https://tugberkugurlu.blob.core.windows.net/bloggyimages/5b8f10ba-210b-4ad8-bb64-960d360329c3.png" border="0"></a><p>A wizard is going to appear on the screen:<p><a href="https://tugberkugurlu.blob.core.windows.net/bloggyimages/65375f01-a36f-4015-b6b0-2305421452b7.png"><img width="644" height="467" title="10-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" style="display: inline; background-image: none;" alt="10-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" src="https://tugberkugurlu.blob.core.windows.net/bloggyimages/f2591e3d-ff31-4b04-9504-5d90516b0bd1.png" border="0"></a><p>Click the right-arrow icon and go to next step which is the last one and we will enter the port details there:<p><a href="https://tugberkugurlu.blob.core.windows.net/bloggyimages/59731054-1f16-4c9f-a46e-4abc8ac48499.png"><img width="644" height="462" title="11-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" style="display: inline; background-image: none;" alt="11-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" src="https://tugberkugurlu.blob.core.windows.net/bloggyimages/f159832a-692f-48f5-966a-c2b40369d2e2.png" border="0"></a><p>After that, our endpoint will be created:<p><a href="https://tugberkugurlu.blob.core.windows.net/bloggyimages/5ff157f9-ef32-41d6-a795-f079b43018ee.png"><img width="644" height="165" title="12-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" style="display: inline; background-image: none;" alt="12-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" src="https://tugberkugurlu.blob.core.windows.net/bloggyimages/0e64df4f-ae98-4000-899b-6dfcb69db4cd.png" border="0"></a><p>Follow the same steps of Web2-08R2 VM as well and open the <em>Add Endpoint</em> wizard. This time, we will be able to select Load-balance traffic on an existing port. Chose the previously created port and continue:<p><a href="https://tugberkugurlu.blob.core.windows.net/bloggyimages/2bcadc2e-d3b6-4073-9305-ca218b4e5e66.png"><img width="644" height="467" title="13-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" style="display: inline; background-image: none;" alt="13-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" src="https://tugberkugurlu.blob.core.windows.net/bloggyimages/0224e8a1-52e6-4e13-9ca5-c7c381230b9a.png" border="0"></a><p>At the last step, enter the proper details and hit save:<p><a href="https://tugberkugurlu.blob.core.windows.net/bloggyimages/7b11591a-2d68-46e3-ace1-a4736d42884c.png"><img width="644" height="462" title="14-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" style="display: inline; background-image: none;" alt="14-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" src="https://tugberkugurlu.blob.core.windows.net/bloggyimages/fc528db4-5255-4082-b527-c3bc360aaf43.png" border="0"></a><p>We will see our new endpoint is being crated but this time <strong>Load Balanced</strong> column indicates <strong>Yes</strong>.<p><a href="https://tugberkugurlu.blob.core.windows.net/bloggyimages/fb98d3c1-442a-46e5-ab71-0e2d166b477c.png"><img width="644" height="178" title="15-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" style="display: inline; background-image: none;" alt="15-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" src="https://tugberkugurlu.blob.core.windows.net/bloggyimages/4cdb64d4-2dd1-46a5-a690-9a5fa3b6c177.png" border="0"></a><p>As we configured our web applications without a host name and they are exposed through port 80, we can directly run reach our application through the URL or Public Virtual IP Address (VIP) which is provided to us. When we run our application, we should see it running as below:<p><a href="https://tugberkugurlu.blob.core.windows.net/bloggyimages/ce2aa6ef-2021-41f7-b23c-dbe48994e649.png"><img width="644" height="346" title="16-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" style="display: inline; background-image: none;" alt="16-687474703a2f2f7475676265726b2e626c6f622e636f72652e77696e646f77732e6e65742f7475676265726b756775726c752d626c6f672f53696e67616c522d776974682d52656469732d52756e6e696e672d6f6e2d612d57696e646f77732" src="https://tugberkugurlu.blob.core.windows.net/bloggyimages/befe42d5-9931-46f3-b499-7bbeb78a78ce.png" border="0"></a><p>No matter which server it goes, the message will be broadcasted to every client because we will be using Redis as a message bus.<h3><a name="user-content-references" href="https://web.archive.org/web/20140827164959/https://github.com/SignalR/SignalR/wiki/SignalR-with-Redis-Running-on-a-Windows-Azure-Virtual-Machine#references"></a>References</h3><ul><li><a href="https://web.archive.org/web/20140827164959/https://github.com/MSOpenTech/redis">Redis on Windows prototype</a><li><a href="https://web.archive.org/web/20140827164959/https://www.windowsazure.com/en-us/manage/windows/how-to-guides/custom-create-a-vm/">How to Create a Custom Virtual Machine</a><li><a href="https://web.archive.org/web/20140827164959/https://www.windowsazure.com/en-us/manage/windows/how-to-guides/setup-endpoints/">How to Set Up Communication with a Virtual Machine</a></li></ul>  